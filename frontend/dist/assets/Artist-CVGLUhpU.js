import{b as F,k as _,r as l,u as k,j as s,F as L,o as P}from"./index-COxCwWZM.js";import{F as E,u as M}from"./index.esm-BmlTAiR4.js";import{S as z,a as B}from"./SongCard-M7jSt_r-.js";const I=()=>{var i,o,d,x,m,h,g;const{generateLinearGradient:f}=M(),j=F(),{id:r}=_(),[H,p]=l.useState("#ffffff"),[c,N]=l.useState("#2A2A2A"),[t,v]=l.useState({}),[y,n]=l.useState(!1),{handleListenListSong:b}=k(),w=new E;l.useEffect(()=>{(async()=>{try{n(!0);const a=await P(r);if(v(a.data.message),a.data.message.avatar){const u=await w.getColorAsync(a.data.message.avatar);p(u.hex);const C=f(u.hex,.7,.4,180);N(C)}}catch(a){console.error("Lỗi khi tải artist:",a)}finally{n(!1)}})()},[r]);const A=({title:e})=>s.jsxs("div",{className:"flex justify-between items-center  mb-5",children:[s.jsx("h2",{className:"text-white text-2xl font-bold",children:e}),s.jsx("button",{className:"!text-gray-400 transition cursor-pointer text-xs",children:"Hiện tất cả"})]}),S=({album:e})=>s.jsx(s.Fragment,{children:e.status==1&&s.jsxs("div",{onClick:()=>j(`/album/${e.id}`),className:" w-40 h-fit  rounded-lg hover:scale-105 cursor-pointer flex flex-col",children:[s.jsx("img",{loading:"lazy",src:e.image,alt:e.name,className:"w-full h-auto object-cover aspect-square rounded-sm"}),s.jsxs("div",{className:"w-full mt-2",children:[s.jsx("h3",{className:"text-white font-semibold overflow-hidden whitespace-nowrap text-ellipsis w-full",children:e.name}),s.jsx("p",{className:"text-gray-400 text-sm",children:e.release_date})]})]})});return s.jsx(s.Fragment,{children:y?s.jsx("div",{className:"loader-container min-h-[50vh]",children:s.jsx("span",{className:"loader",children:" "})}):s.jsxs("div",{className:"pb-10 flex flex-col gap-20 ",style:{background:c},children:[s.jsxs("div",{className:"text-white flex gap-8 flex-col md:flex-row md:items-center p-5 pt-10",style:{background:c},children:[s.jsx("img",{loading:"lazy",className:"w-48 h-48 rounded-full object-cover",src:t.avatar,alt:t.name}),s.jsxs("div",{className:"flex flex-col justify-end  gap-2 h-48",children:[s.jsx("p",{className:"!m-0",children:"Artist"}),s.jsx("h1",{className:"text-5xl font-bold  md:text-8xl p-0  !m-0",children:t.name}),s.jsxs("p",{className:"flex items-center text-gray-300 text-sm  !m-0",children:[s.jsxs("span",{className:"",children:[((i=t.albums_data)==null?void 0:i.length)!=0?(o=t.albums_data)==null?void 0:o.reduce((e,a)=>e+(a.status!==0&&a.status!==3?1:0),0):"Chưa có"," album •"]}),s.jsxs("span",{className:"pl-2",children:[((d=t.songs_data)==null?void 0:d.length)!=0?(x=t.songs_data)==null?void 0:x.reduce((e,a)=>e+(a.status!==0&&a.status!==3?1:0),0):"Chưa có"," bài hát"]})]})]})]}),s.jsxs("div",{className:"px-5 flex flex-col gap-10",children:[s.jsx("div",{className:"flex flex-col gap-5",children:s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>b(t.songs_data),className:"bg-green-500 px-6 py-3 rounded-full  flex items-center cursor-pointer w-fit flex gap-2",children:[s.jsx(L,{className:""})," Play"]}),s.jsxs("ul",{children:[s.jsx(z,{}),(m=t.songs_data)==null?void 0:m.map((e,a)=>s.jsx(s.Fragment,{children:e.status!=0&&s.jsx(B,{song:e,index:a},a)}))]})]})}),s.jsx("div",{children:((h=t.albums_data)==null?void 0:h.length)!=0&&s.jsxs(s.Fragment,{children:[s.jsx(A,{title:"Danh sách Album"}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-5",children:(g=t.albums_data)==null?void 0:g.map((e,a)=>s.jsx(s.Fragment,{children:e.status!=0&&s.jsx(S,{album:e},a)}))})]})})]})]})})};export{I as default};
