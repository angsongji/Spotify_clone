import{a as g,k as A,r as n,b as M,u as _,j as s,F,D as L,H as P,M as i,l as B}from"./index-DU8kCWn9.js";import{F as D,u as E}from"./index.esm-BmlTAiR4.js";import{A as H}from"./ArtistCard-Z6Rc6ean.js";const I=r=>{B.info(`Bạn đã chọn mục ${r.key}`)},$=s.jsxs(i,{onClick:I,children:[s.jsx(i.Item,{children:"Thêm vào danh sách phát"},"1"),s.jsx(i.Item,{children:"Yêu thích"},"2")]}),U=()=>{var d,m,x,h;const r=g(a=>a.music.songs),u=g(a=>a.music.albums),{generateLinearGradient:p}=E(),{songId:c}=A(),[z,f]=n.useState("#ffffff"),[j,N]=n.useState("#2A2A2A"),y=new D,[v,b]=n.useState(!1),o=M(),[e,k]=n.useState(!0),{handleListenListSong:C,formatTime:w}=_();return n.useEffect(()=>{(async()=>{try{const t=r.find(l=>l.id==c);if(k(t),t.image){const l=await y.getColorAsync(t.image);f(l.hex);const S=p(l.hex,.7,.4,180);N(S)}}catch(t){console.error("Lỗi khi tải album:",t)}finally{b(!1)}})()},[c]),s.jsx(s.Fragment,{children:v?s.jsx("div",{className:"loader-container min-h-[50vh]",children:s.jsx("span",{className:"loader",children:" "})}):s.jsxs("div",{style:{background:j},className:"p-5",children:[s.jsxs("div",{className:"text-white flex gap-8 flex-col md:flex-row md:items-center ",children:[s.jsx("img",{loading:"lazy",className:"w-48 h-48 rounded",src:e.image,alt:e.name}),s.jsxs("div",{className:"flex flex-col justify-end  gap-3 h-48",children:[s.jsx("p",{className:"!m-0",children:"Bài hát"}),s.jsx("h1",{className:"text-5xl font-bold  md:text-7xl p-0  !m-0",children:e.name}),s.jsxs("p",{className:"flex items-center gap-2 text-gray-400 text-sm  !m-0 ",children:[s.jsxs("span",{className:'"w-fit flex items-center cursor-pointer  gap-2',children:[s.jsx("div",{className:"flex-1 text-xs ",children:(d=e.artists_data)==null?void 0:d.map((a,t)=>s.jsxs("span",{className:"cursor-pointer hover:text-white",onClick:l=>{l.stopPropagation(),o(`/artist/${a.id}`)},children:[a.name,t<e.artists_data.length-1?"•":""]},a.id))}),s.jsx("span",{children:"•"})]}),e.album_id!=""&&s.jsxs("span",{onClick:()=>{o(`/album/${e.album_id}`)},className:"hover:text-white cursor-pointer",children:[(m=u.find(a=>a.id==e.album_id))==null?void 0:m.name," •"]}),s.jsxs("span",{children:[e.date," •"]}),s.jsx("span",{children:w(e.duration)})]}),s.jsx("div",{className:"flex gap-3 text-gray-400 text-xs",children:(x=e.categories_data)==null?void 0:x.map((a,t)=>s.jsx("div",{className:" border-1 border-gray-500 rounded-full py-0.5 px-5",children:a.name},t))})]})]}),s.jsx("div",{}),s.jsx("div",{className:"py-5",children:e?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center  gap-5 py-10",children:[s.jsxs("button",{onClick:()=>C([e]),className:"bg-green-500 px-6 py-3 rounded-full mr-4 flex items-center cursor-pointer flex gap-2",children:[s.jsx(F,{className:"mr-2"})," Play"]}),s.jsx(L,{overlay:$,trigger:["click"],children:s.jsx(P,{className:"mr-2 text-2xl text-gray-300 cursor-pointer"})})]})}):s.jsx("div",{className:"m-5 text-white",children:"Cùng đón chờ những bài hát sắp ra mắt trong album!"})}),s.jsxs("div",{className:"text-gray-400 flex gap-5 flex-col ",children:[s.jsx("div",{className:"font-bold text-xl",children:"Nghệ sĩ tham gia: "}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-7 xl:grid-cols-9 gap-5",children:(h=e.artists_data)==null?void 0:h.map((a,t)=>s.jsx(H,{artist:a},t))})]})]})})};export{U as default};
