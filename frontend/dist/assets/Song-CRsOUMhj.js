import{a as n,k as C,r as l,b as k,u as _,j as s,F,H as L}from"./index-DiFjIO8C.js";import{F as P,u as E}from"./index.esm-BmlTAiR4.js";import{A as H}from"./ArtistCard-DNCJE6Bm.js";const D=()=>{var o,d,m,x;const g=n(e=>e.music.songs),h=n(e=>e.music.albums);n(e=>e.user.user);const{generateLinearGradient:u}=E(),{songId:i}=C(),[M,p]=l.useState("#ffffff"),[f,j]=l.useState("#2A2A2A"),N=new P,[b,y]=l.useState(!1),c=k(),[a,v]=l.useState(!0),{handleListenListSong:S,formatTime:w}=_();return l.useEffect(()=>{(async()=>{try{const t=g.find(r=>r.id==i);if(v(t),t.image){const r=await N.getColorAsync(t.image);p(r.hex);const A=u(r.hex,.7,.4,180);j(A)}}catch(t){console.error("Lỗi khi tải album:",t)}finally{y(!1)}})()},[i]),s.jsx(s.Fragment,{children:b?s.jsx("div",{className:"loader-container min-h-[50vh]",children:s.jsx("span",{className:"loader",children:" "})}):s.jsxs("div",{style:{background:f},className:"p-5",children:[s.jsxs("div",{className:"text-white flex gap-8 flex-col md:flex-row md:items-center ",children:[s.jsx("img",{loading:"lazy",className:"w-48 h-48 rounded",src:a.image,alt:a.name}),s.jsxs("div",{className:"flex flex-col justify-end  gap-3 h-48",children:[s.jsx("p",{className:"!m-0",children:"Bài hát"}),s.jsx("h1",{className:"text-5xl font-bold  md:text-7xl p-0  !m-0",children:a.name}),s.jsxs("p",{className:"flex items-center gap-2 text-gray-400 text-sm  !m-0 ",children:[s.jsxs("span",{className:'"w-fit flex items-center cursor-pointer  gap-2',children:[s.jsx("div",{className:"flex-1 text-xs ",children:(o=a.artists_data)==null?void 0:o.map((e,t)=>s.jsxs("span",{className:"cursor-pointer hover:text-white",onClick:r=>{r.stopPropagation(),c(`/artist/${e.id}`)},children:[e.name,t<a.artists_data.length-1?"•":""]},e.id))}),s.jsx("span",{children:"•"})]}),a.album_id!=""&&s.jsxs("span",{onClick:()=>{c(`/album/${a.album_id}`)},className:"hover:text-white cursor-pointer",children:[(d=h.find(e=>e.id==a.album_id))==null?void 0:d.name," •"]}),s.jsxs("span",{children:[a.date," •"]}),s.jsx("span",{children:w(a.duration)})]}),s.jsx("div",{className:"flex gap-3 text-gray-400 text-xs",children:(m=a.categories_data)==null?void 0:m.map((e,t)=>s.jsx("div",{className:" border-1 border-gray-500 rounded-full py-0.5 px-5",children:e.name},t))})]})]}),s.jsx("div",{}),s.jsx("div",{className:"py-5",children:a?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex items-center  gap-5 py-10",children:[s.jsxs("button",{onClick:()=>S([a]),className:"bg-green-500 px-6 py-3 rounded-full mr-4 flex items-center cursor-pointer flex gap-2",children:[s.jsx(F,{className:"mr-2"})," Play"]}),s.jsx("button",{className:"text-gray-400 flex items-center cursor-pointer",children:s.jsx(L,{className:"mr-2 text-2xl text-gray-300"})})]})}):s.jsx("div",{className:"m-5 text-white",children:"Cùng đón chờ những bài hát sắp ra mắt trong album!"})}),s.jsxs("div",{className:"text-gray-400 flex gap-5 flex-col ",children:[s.jsx("div",{className:"font-bold text-xl",children:"Nghệ sĩ tham gia: "}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 lg:grid-cols-7 xl:grid-cols-9 gap-5",children:(x=a.artists_data)==null?void 0:x.map((e,t)=>s.jsx(H,{artist:e},t))})]})]})})};export{D as default};
