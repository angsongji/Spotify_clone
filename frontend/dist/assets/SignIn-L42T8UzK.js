import{r as c,b as f,c as v,j as e,af as j,ag as y,ah as b,ai as N,aj as w,v as k,l as o}from"./index-DiFjIO8C.js";import{s as C}from"./authService-Dk18Lp0y.js";const D=()=>{const[t,h]=c.useState({email:"",password:""}),[a,d]=c.useState(!1),[r,g]=c.useState(!1),l=f(),x=v(),m=i=>{const{name:n,value:s}=i.target;h(u=>({...u,[n]:s}))},p=async i=>{i.preventDefault(),d(!0),console.log("Sending login data:",{formData:t});try{const s=(await C(t)).data;s.success?(x(w(s.data.id)),x(k(s.data)),o.success({content:"Đăng nhập thành công!",duration:2,style:{marginTop:"20vh"}}),l("/")):o.error({content:s.message,duration:3,style:{marginTop:"20vh"}})}catch{o.error({content:"Có lỗi xảy ra, vui lòng thử lại sau",duration:3,style:{marginTop:"20vh"}})}finally{d(!1)}};return e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black ",children:[e.jsxs("div",{className:"absolute flex gap-2 top-[3vw] left-[3vw]  items-center cursor-pointer",onClick:()=>l("/"),children:[e.jsx(j,{className:"text-[var(--main-green)] text-4xl "}),e.jsx("div",{className:"text-3xl font-bold text-[var(--light-gray3)]",children:"Spotify"})]}),e.jsxs("div",{className:"w-full max-w-[30vw] bg-[var(--dark-gray)] rounded-lg shadow-lg pt-20 px-10 pb-2",style:{"box-shadow":"rgba(50, 50, 93, 0.25) 0px 13px 27px -5px, rgba(0, 0, 0, 0.3) 0px 8px 16px -8px"},children:[e.jsx("div",{className:"flex flex-col items-center mb-10",children:e.jsx("div",{className:"text-[var(--light-gray3)] text-xl font-bold",children:"Đăng nhập"})}),e.jsxs("form",{onSubmit:p,className:" w-full  flex flex-col justify-center gap-10  !text-[var(--light-gray3)]",children:[e.jsx("div",{className:"",children:e.jsxs("div",{className:"input-animation ",children:[e.jsx("input",{name:"email",placeholder:" ",type:"email",className:"border-1 !border-[var(--light-gray2)] ",value:t.email,onChange:m,required:!0,disabled:a}),e.jsx("label",{for:"email",children:"Email"})]})}),e.jsxs("div",{className:"flex gap-2 ",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"input-animation",children:[e.jsx("input",{name:"password",placeholder:" ",type:r?"text":"password",className:"w-full border-1 !border-[var(--light-gray2)]",value:t.password,onChange:m,required:!0,minLength:6,disabled:a}),e.jsx("label",{htmlFor:"password",children:"Mật khẩu"})]})}),e.jsx("div",{className:"text-[var(--light-gray3)] text-2xl flex items-center cursor-pointer",onClick:()=>g(!r),children:r?e.jsx(y,{}):e.jsx(b,{})})]}),e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("button",{type:"submit",disabled:a,className:` w-fit  !mt-15 !mb-5 px-10   rounded-full font-medium text-white self-center
                            ${a?"bg-gray-600 cursor-not-allowed":"border-[var(--light-gray2)] border-1 hover:bg-[#1ed760]  transform hover:scale-105 transition-all  cursor-pointer"}`,children:a?e.jsx("div",{className:"flex items-center justify-center my-3",children:e.jsxs("svg",{className:"animate-spin h-5 w-5 ",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):e.jsx(N,{size:40,className:"text-[var(--light-gray2)] "})})})]}),e.jsx("div",{className:" text-center text-sm",children:e.jsxs("p",{className:"text-gray-400",children:["Chưa có tài khoản?"," ",e.jsx("span",{onClick:()=>l("/sign-up"),className:"cursor-pointer text-[#1DB954] hover:text-[#1ed760] font-medium",children:"Đăng ký ngay"})]})})]})]})};export{D as default};
